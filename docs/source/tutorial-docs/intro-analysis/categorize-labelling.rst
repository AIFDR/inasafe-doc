Labels and Classification=========================Learning Objectives-------------------- Explore attribute data of an object and to understand the uses of different types of data- Add labels to vector layers- Symbolize vector data using categoriesIntroduction------------Up to now, none of the changes we have made to the map have been influenced by the objects that are being shown. In other words, every type of vegetation looks alike, and all the roads look alike. When looking at the map, the viewers don’t know anything about the roads they are seeing; only that there is a road of a certain shape in a certain area.But the whole strength of GIS is that all the objects that are visible on the map also have attributes. Maps in a GIS aren’t just pictures. They represent not only objects in locations, but also information about those objects.  In this lesson we will explore the attribute data of an object and understand what the various data can be useful for.If you would like to start with the examples used in this chapter, begin by opening the QGIS project _**sleman___2___6.qgs**_.<br>###1. Attribute Data- Open the attribute table for the _**POI___Sleman___OSM**_ layer by selecting it in the layers list and clicking on the Open Attribute Table button (you can also right-click on the layer and select Open Attribute Table).<img src="/tutorial/intro-analysis/6_openattributetablebutton.png" />- Which field would be the most useful to use as a label?<img src="/tutorial/intro-analysis/6_attributetablePOIsleman.png" />You now know how to use the attribute table to see what is actually in the data you’re using. A dataset will only be useful to you if it has the attributes that you care about. If you know which attributes you need, you can quickly decide if you’re able to use a given dataset, or if you need to look for another one that has the required attribute data.Different attributes are useful for different purposes. Some of them can be represented directly as text for the map user to see.  Next we’ll see how to use attributes as labels, so that users can see the text on your map.<br>###2. The Label ToolLabels can be added to a map to show any information about an object. Any vector layer can have labels associated with it.  Labels rely on the attribute data of a layer for their content.There are several ways to add labels in QGIS, but some are better than others.  You may notice that when you open the Layer Properties window for a layer, there is a tab called “Labels.”  While this tab is designed to put labels on your map, it is not nearly as good as the so-called “Label Tool,” which we will learn in this section.Before being able to access the Label tool, you will need to ensure that it has been activated.- Go to the menu item View Toolbars.- Ensure that the Label item has a checkmark next to it. If it doesn’t, click on the Label item, and it will be activated.  The Label toolbar looks like this:<img src="/tutorial/intro-analysis/6_labeltoolbar.png" />- Click on the _**POI___Sleman___OSM**_ layer in the Layers list, so that it is highlighted.- Click on the “Labelling” button:<img src="/tutorial/intro-analysis/6_labellingbutton.png" />This gives you the Layer labeling settings dialog.- Check the box next to Label this layer with....<img src="/tutorial/intro-analysis/6_labelthislayerwith.png" />- We must indicate which of the attribute fields we want to use for the labels.  The NAME field is the mostly likely candidate for a label, so let’s select NAME from the list:<img src="/tutorial/intro-analysis/6_labelthislayerwith1.png" />- Click OK.  The map should now have labels like this:<img src="/tutorial/intro-analysis/6_map1.png" />What we have so far is good, but as you can see, the labels are overlapping the points that they are associated with. That doesn’t look very nice. The text is also a bit larger than it needs to be. Let’s fix these problems!- Open the Label tool again by clicking on its button as before.- Click on the ellipsis (...) button to change the text properties:<img src="/tutorial/intro-analysis/6_textstyle.png" />A standard text change dialog appears, similar to those in many other programs. Change the font to Arial size 9. Your labels will now look like this:<img src="/tutorial/intro-analysis/6_map2restaurant.png" />That’s the font problem solved! Now let’s look at the problem of the labels overlapping the points, but before we do that, let’s take a look at the Buffer option.- Open the Label tool dialog.- Deactivate the label buffer by clicking on the checkbox next to the text that says Buffer.<img src="/tutorial/intro-analysis/6_bufferbutton.png" />- Click Apply.Note the effects in the map:<img src="/tutorial/intro-analysis/6_map3.png" />Now you can see why we usually need label buffers!- Reactivate the buffers by clicking in the same checkbox as before, and then clicking Apply.Back to the problem of the labels that overlap points.- In the Label tool dialog, go to the Advanced tab.<img src="/tutorial/intro-analysis/6_advancedtab.png" />- Change the value of Label distance to 2.<img src="/tutorial/intro-analysis/6_labeldistance.png" />- Click Apply.  The labels no longer hover over the icons, but are “buffered” a short distance away:<img src="/tutorial/intro-analysis/6_map4.png" /><br>**_Labeling lines_**Now that you know how labeling works, there’s an additional problem. Points and polygons are easy to label, but what about lines? If you label them the same way as the points, your results would look like this:<img src="/tutorial/intro-analysis/6_map5.png" />This is not very useful! To make lines behave, we’ll need to edit some options.- Hide the _**POI___Sleman___OSM**_ layer so that it doesn’t distract you.- Activate labels for the _**Jalan___Sleman___OSM**_ layer as before. (Remember to use the Label tool on the toolbar, not the one in Label Properties!)- Set the font Size to 9 so that you can see more labels.- Zoom in so that the scale is around 1:10000.- In the Label tool dialog’s Advanced tab, choose the following settings:<img src="/tutorial/intro-analysis/6_layerlabellingsettings.png" />The map will look somewhat like this, depending on scale:<img src="/tutorial/intro-analysis/6_map6.png" />It’s better than before, but still not ideal. For starters, some of the names appear more than once, and that’s not always necessary. To prevent that from happening:- Enable the option Merge connected lines to avoid duplicate labels (also under the Advanced tab - you may need to scroll down to see it).<br>Another useful function is to prevent labels being drawn for features too short to be of notice.- Set the value of Suppress labeling of features smaller than ... to 5mm and note the results when you click Apply.- Try out different Placement settings as well (also under the Advanced tab). As we’ve seen before, the horizontal option is not a good idea in this case, so let’s try the curved option instead!- Select the curved option under the Advanced tab of the Layer labeling settings dialog.Here’s the result:<img src="/tutorial/intro-analysis/6_map7.png" />As you can see, this hides a lot of the labels that were previously visible, because of the difficulty of making some of them follow twisting street lines and still be legible. You can decide which of these options to use, depending on what you think seems more useful or what looks better.Now that you know how attributes can make a visual difference for your map, how about using them to change the symbology of objects themselves? That’s the topic for the next section!<br>###3. ClassificationLabels are a good way to communicate information such as the names of individual places, but they can’t be used for everything. For example, let’s say that we want to show which district each feature in our vegetation layer is in.  Using labels, it would look like this:<img src="/tutorial/intro-analysis/6_map8.png" />Obviously this is not ideal, so we need another solution. That’s what this lesson is about!  In this section, we will learn how to classify vector data effectively.<br>**_Classifying nominal data_**- Open Layer Properties for the **_vegetasi_** layer.- Go to the Style tab.- Click on the dropdown that says Single Symbol:<img src="/tutorial/intro-analysis/6_singlesymbol.png" />- Change it to Categorized and the interface will change:<img src="/tutorial/intro-analysis/6_layerpropertiesvegetasi.png" />- Change the Column to **guna_lahan** and the Color ramp to **Spectral**:<img src="/tutorial/intro-analysis/6_categorized.png" />- Click the button labeled Classify:<img src="/tutorial/intro-analysis/6_buttonlabeledclassify.png" />- Click OK.  You’ll see something like this:<img src="/tutorial/intro-analysis/6_map9.png" />- Click the arrow (or plus sign) next to rural in the Layer list, you’ll see the categories explained:<img src="/tutorial/intro-analysis/6_categorivegetasi.png" />So, this is useful! But it hurts your eyes to look at it, so let’s see what we can do about that.- Open Layer Properties and go to the Style tab again.- Click the “Change” button next to Symbol.<img src="/tutorial/intro-analysis/6_symbolchangebutton.png" />- Remove the outline as you did in the previous chapter.  (change the border style to “No Pen”)- Click the Delete all button:<img src="/tutorial/intro-analysis/6_deleteall.png" />- Now click Classify again, and the new symbols will appear.You’ll notice they don’t have outlines. This is because because you just removed the outlines!- Change the color for each type of vegetation by double-clicking on the colored block next to its name.  You can change the color for each type of vegetation to something that you think is more applicable, as we’ve done here:<img src="/tutorial/intro-analysis/6_symbolvaluelabel.png" />- Notice that the category on the bottom is empty.  Select it, and click the Delete button.- When we click OK our map looks like this:<img src="/tutorial/intro-analysis/6_map10.png" />If you feel confident in your new classification skills, try to classify the residential layer yourself.  Use darker colors to distinguish it from vegetation.<br>**_Ratio classification_**In the previous example, we classified the **_vegetasi_** layer by what is known as **nominal classification**.  This type of classification is when categories are defined based on names.  Next we will classify the **_pemukiman_** layer based on the size of each feature.  Classifiying with attributes that contain only positive numbers, sych as land area, is known as **ratio classification**.- Open the attribute table for the **_pemukiman_** layer.  Notice the final column, _luas___ha_.  This attribute contains the size of the land area contained within that feature polygon.<img src="/tutorial/intro-analysis/6_luasha.png" />- Open the layer properties for **_pemukiman_**.- Change the Style type to “Graduated”, and use _luas___ha_ as the column.<img src="/tutorial/intro-analysis/6_layerpropertiespermukiman.png" />- Because we are categorizing with numbers this time, a color gradient will be useful for representing our categories.  Click on “Oranges” in the color ramp, and then click Classify.<img src="/tutorial/intro-analysis/6_layerpropertiespermukiman1.png" />- Now you’ll have something like this:<img src="/tutorial/intro-analysis/6_map11.png" /><br>Summary-------Symbology allows us to represent the attributes of a layer in an easy-to-read way. It allows us as well as the map reader to understand the significance of features, using any relevant attributes that we choose.Now we have a nice-looking map, but how are we going to get it out of QGIS and into a format we can print out, or make into an image or PDF? That’s the topic of the next lesson!